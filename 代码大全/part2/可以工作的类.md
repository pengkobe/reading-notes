# 可以工作的类
> 要求:对面向对象有一定的理解

### 类基础:抽象数据类型
> 抽象数据类型可以让你像现实世界一样操作实体

好处：

1. 隐藏实现
2. 局部不影响整体
3. 让接口提供更多信息
4. 容易提高性能(改写子程序成本低)
5. 子程序正确性更加容易判断
6. 程序更具有自我说明性
7. 无须再程序内大量传递数据
8. 像现实世界一样操作实体



### 良好的类接口
混杂的抽象会让程序越来越难以理解，整个程序会逐步堕落到直到无法进行维护，设计良好的类接口，可以从以下几方面触发：

1. 一定要理解类所实现的类抽象是什么
2. 提供成对服务(打开<->关闭、隐藏<->显示)
3. 把不相关信息转移到其它类中
4. 尽可能的让接口可编程而不是表达语义,如哪个必须先执行
5. 谨防在修改时破坏接口的抽象
6. 不要添加与接口对象不一致的抽象成员
7. 同时考虑抽象性与内聚性


### 良好的封装
1. 限制接口与类的可访问性
2. 不要公开暴露成员数据
3. 类接口不应涉及私用实现(c++则可以隐藏在指针后)
4. 不对类使用者做任何假设
5. 避免使用友元类(忘了)
6. 不要因为一个子程序只使用公共接口就归入公开接口
7. 使得阅读代码比编写代码更方便
8. 警惕从语义上破坏封装性
9. 留意过于紧密的耦合关系


### 有关设计与实现问题
1. 包含(has a),警惕超过7个数据成员的类
2. 继承(is a)，这块自己还是比价熟的，有几个注意事项
   - 派生类的成员函数不要与基类中不可覆盖的成员函数重名
   - 只有一个实例的类是值得怀疑的(是否可以采用单例模式)
   - 只有一个派生类的基类也是值得怀疑的
   - 覆盖子程序却不做任何操作也是值得怀疑的
   - 避免继承过深(超过2~3层就开始麻烦，不要超过6层)
   - 尽量使用多态而不是做类型检查
3. 多重继承(危险)，Java与VB只支持接口多重继承，而c++则都支持
4. 为什么制定这么多继承准则，有一点印象最深:基类控制接口时使用继承，自个控制接口时使用包含

### 成员函数与数据成员
总之有几点，成员函数尽可能的少，此外，减少与其它类中成员函数的交互

### 构造函数
这里涉及到几点注意事项:

1. 尽量在构造函数中初始化所有数据成员
2. 用私有构造函数来强制实现单件(singleton)属性
3. 优先deep copies，论证可行后才用shallow copies(需要引用计数这些复杂的东西)。

### 创建类的原因
个人理解的话，就是降低复杂度，大大减少工作量咯。具体一点的话:

1. 对现实世界与抽象物体进行建模
2. 降低与隔离复杂度
3. 隐藏实现细节、限制变化范围1
4. 隐藏全局，创建中心控制点
5. 代码重用实现特定的重构


### 应该避免的类
1. 万能的
2. 无关紧要的
3. 动词命名的

### 与具体变成语言相关的问题
待重看(需要对各类编程语言有系统的了解)


### 超越类:包
核对表(类的质量)
