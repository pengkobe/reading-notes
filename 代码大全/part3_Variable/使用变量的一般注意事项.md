# 使用变量的一般注意事项
> 本章主要讲述对变量的使用

### 数据认知
发现自己还是有很多类型不熟悉或者很少用。比如*B-树*、*共用体(union)*、*elongated stream*...

### 轻松掌握变量定义
VB会隐式声明，但是这并不是一个好特性，会使得你非常难发现错误。JavaScript也有这么的特性，如果不幸碰到了他们。
那么可以采纳以下建议:

1. 关闭隐式声明
2. 声明全部变量
3. 遵循某种命名规则
4. 检查变量名(不一定要手工哦)

### 变量初始化原则
1. 在声明变量的时候初始化
2. 在靠近变量第一次使用的位置初始化(较优)
3. 在可能的情况下使用final或const
4. 特别注意计数器和累加器。比如你常用的*i*
5. 在类的的构造函数中初始化数据成员(和析构函数相对应)
6. 检查是否需要重新初始化
7. 一次性初始化具名变量:用可执行代码初始化变量
8. 使用编译器设置自动初始化所有变量(注意不要依赖于特定编译器)
9. 利用编译器的警告信息
10. 检查输入参数的合法性
11. 使用内存访问检查工具来检查错误的指针
12. 在程序开始工作时初始化内存(**待重看，在研究c++的时候可以试试**)

### 作用域
1. 使变量引用局部化，减少跨度(使得程序员可以集中处理，而不需要跳跃式查找)
2. 尽可能缩短变量存活时间，可以测量变量的生存时间(计算跨度的公式)来分析，一般认为跨度较短是个好主意，这个理论**也支持为什么要减少全局变量**
   - 被错误修改的可能性降低
   - 使得自己对代码有更准确地认识
   - 更具有可读性
   - 容易重构
3. 减少作用域的一般原则
   - 在循环开始之前再去初始化循环里使用的变量，而不是在该循环所属的子程序的开始处初始化变量(避免误用)
   - 直接变量即将使用时再为其赋值
   - 把相关语句放到一起
   - 把相关语句提取出单独的子程序
   - 开始时采用最严格的可见性，然后根据需要拓展变量的作用域(**把全局变量变成类成员要比把类成员变成全局变量难得多**)
4. 有关缩小变量作用域的说明，全局变量还是局部变量(赞)其实引发的是对**写程序** 与**读程序** 之间的权衡。


### 持续性
其实就是要重视变量的生命周期，不要玩坏了，作者提供了一些原则:

1. 加入调试代码与断言来验证变量的合法性
2. 假设变量并没有持续性
3. 养成在使用所有数据之前声明和初始化的习惯

### 绑定时间
一般来说越早绑定灵活性就越差，但是复杂度会降低。绑定时间一般有以下几种情况

1. 编码时(使用神秘数据)
2. 编译时(使用具名变量)
3. 加载时(从注册表或属性文件中读取)
4. 对象初始化时
5. 即时

### 数据类型与控制结构之间的关系
作者列出了三种,注意以下几种可以组合出更复杂的数据类型

1. 序列型对应顺序语句
2. 选择型对应if/else
3. 迭代型对应 for/while


### 为变量指定单一用途
每个变量尽量只指定一种用途，避免使用隐含含义的变量，其会让人感到模糊，而且没人在乎那一点点存储空间。

### 附录
核对表(使用数据的一般注意事项)





