# 13 不常见的数据类型


### 结构体
暂略


### 指针
暂略


### 全局数据
> 全局数据其实就是在任意位置可访问  

#### 使用全局数据产生的问题
1. 无意间修改
2. 别名问题，有可能把全局参数当参数传递，而实际上是一个参数
3. 代码重用变得复杂，比如要使得一个旧程序可以使用全局数据
4. 不能保证初始化顺序(某些情况)
5. 代码模块性和智力上管理性被破坏

#### 使用全局数据的理由
1. 保存全局数值
2. 模拟具名变量(FASLE=0,TRUE=1)
3. 模拟枚举
4. 简化极其常用数据类型使用
5. 消除流浪数据

#### 只有万不得已才用
1. 首先用局部，再决定用全局
2. 区分全局变量与类变量(是否可以通过子程序提供？)
3. 使用子程序访问
   - 要求所有代码通过子程序存取数据
   - 不把全局变量仍在一处(不能明了谁是谁)
   - 用锁定控制全局变量访问(lock)
   - 在访问器子程序里构建一个抽象层(尽量提供多的信息,如*node.next* 可以转化为 *nextAccount()*)
   - 使得对数据的所有访问都发生在一个抽象层上
4. 如何降低全局变量风险
   - 创建命名规则(如g_)
   - 加上注释清单
   - 不要使用全局变量存放中间结果
   - 不要把数据放到大对象中传递(还不如使用全局变量)

### 核对表
**使用不常见数据类型注意事项**