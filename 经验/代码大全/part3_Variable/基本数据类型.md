# 12 基本数据类型

### 数值概论
1. 避免使用神秘数值，修改会变得不可靠，用常量CONST较好
2. 预防除0,这类在编程中出现太多了
3. 使类型转变变得容易
4. 避免混合类型比较
5. 注意编译器警告(javascript可以使用JSLint)

### 整数
1. 注意除法
2. 注意数据溢出

### 浮点数
1. 避免数量级巨大的数之间的加减
2. 避免等量判断( 1 != [10个0.1相加] )
3. 处理舍入误差问题
4. 检查语言和函数库对数据类型的支持

### 字符和字符串
1. 避免使用神秘字符串
2. 避免off-by-one错误(如str[length])
3. 了解你的语言和语言开发环境是否支持Unicode
4. 在程序生命周期中尽早决定国际化或本地化策略
5. 如果仅仅只需要支持一种语言，那么可以用**ISO8859**
6. 如果需要支持多种语言，那么可以使用**Unicode**
7. 采用某种一致的字符串转换策略  

*接下来，作者使用C语言举例说明了一些注意事项*


### 布尔变量
1. 加以文字说明
2. 简化复杂判断，使得程序易懂
3. 创建自己的BOOL类型


### 枚举类型
枚举类型一定程度上提高了程序的可靠性、可读性，此外枚举类型还简化了修改步骤。此外，其也是代替BOOL值的首选。
这里列举一些使用建议:  

1. 在case中使用时，注意处理错误值
2. 定义枚举的第一项和最后一项，以便用于循环边界
3. 枚举的**第一个元素作为非法值**
4. 明确枚举的第一个和最后一个元素的使用规则
5. 明确赋值有可能带来失误(个人在c#中有所体会)
6. 如果没有枚举类型，**可以使用类或全局变量来模拟**(JS救赎)


### 具名常量
具名常量是个好东西，可以使得你的程序改动非常方便。你可以在:
 
1. 在数据声明中使用具名常量
2. 避免使用文字量，即使是安全的(如:1000)
3. 使用适当作用域的变量来模拟具名变量(局部变量 > 类作用域 > 全局作用域)
4. 统一使用具名常量


### 数组
1. 保证下标不超标
2. 考虑容器来代替数组
3. 检查数据的边界点
4. 数组是多维的话，需要保证下标正确
5. 避免下标串号


### 创建自己的数据类型
比如坐标就可以创建为一种数据类型，这样子也可以将设计进行封装

一般创建的原因有几个:  

1. 易于修改
2. 避免过多的信息分发
3. 增加可靠性
4. 弥补语言不足

#### 指导原则
1. 给类型取功能导向的名字
2. 避免使用或重定义预定义类型(如 float 这些)
3. 定义替代类型(如INT32 替代 INT)
4. 考虑创建类而非使用typeof



### 附件
**核对表(基本数据类型)** 


