# 代码调整策略
> 其跟性能优化息息相关

## 性能概述
代码调整只是提高性能的中的一种方法。  
事实上上在追求性能之前，你首先得考虑以下几个方面:

1. 需求，1s还是4s(响应时间)有可能会有上亿美元的成本差异
2. 程序设计，最好设定相关目标，长远来说很有好处
3. 类和子程序设计（快速排序还是折半查找）
4. 同操作系统交互
5. 代码编译
6. 硬件
7. 代码调整


## 代码调整简介

### pareto法则
其实就是2/8原则，20%的子程序消耗了80%的执行时间

### 一些无稽之谈
1. 行数越多运行越快
2. 特定运算比其他快，代码规模也较小(其实取决于环境与编译器)
3. 应该随时随地优化(其实没有必要的，不成熟的优化往往是因为缺乏前瞻性,注重大树也得留意森林)
4. 程序正确性与运行速度同等重要

### 何时调整代码
模块化的设计使得易于修改，有可能改动1%的代码就能解决问题

### 编译器优化
编译器的优劣有很大的差异，比如jvm3就比其他编译器强


## 蜜糖和哥斯拉

### 常见的低效率之源
1. 输入/输出操作(如访问内存比访问文件快1000倍)
2. 分页  
   ```java
    // 造成内存交换 maxCol x maxRow
    for(col=0; col<maxCol; col++){ for(row=0; row<maxRow; row++){}}
    //  造成内存交换 maxRow 
    for(row=0; row<maxRow; row++){for(col=0; col<maxCol; col++){ }}
   ```
3. 系统调用(如果需要，自己编写服务程序或者借助软件服务商是不错的选择)
4. 解释型语言(:(((((((((((((,php和python执行时间是c++的100倍)
5. 错误


### 常见操作的相对效率
c++和java还是差不多的，注意使用耗时较少操作替代费时操作


## 性能测量
有时候的性能优化只是想当然，或许编译器早就帮你做了.此外，性能测量应该准确，最好使用cpu时钟.


## 反复调整
反复调整是必要的，性能优化得一步一步来.


## 代码调整方法总结
1. 使用良好的设计开发程序（易于修改）
2. 开始性能优化云云……


## 核对表
代码调整策略

